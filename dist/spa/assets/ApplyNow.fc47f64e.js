import{A as $,r as p,B as x,m as _,K as f,L as n,l as o,Q as q,M as b,R as y,y as V,N as m,U as t,af as v,S as N,q as c}from"./index.e647c85a.js";import{Q as U}from"./QSelect.853d535e.js";import{Q as j}from"./QPage.660fce82.js";import{Q as C,a as M}from"./QLayout.2e2ab899.js";import{u as B,r as i,e as L}from"./index.esm.4557c89b.js";import{a as w}from"./axios.ccd3a804.js";import{_ as E}from"./AppLogo.885260bb.js";import{_ as F}from"./PostcodeRegionField.1ba1a165.js";import{u as h}from"./debug.805a8aef.js";import"./QItemSection.99659658.js";import"./rtl.4f5e13e8.js";import"./format.8e90d58d.js";import"./QResizeObserver.97b49885.js";const P=c("br",null,null,-1),S=c("div",{class:"text-h6"},"Join the team",-1),T=c("p",null,"Fill out the form below and we'll send you an info pack all about joining the team.",-1),A=c("p",{class:"q-mt-md"},"Confirm your eligibility requirements:",-1),ae=$({__name:"ApplyNow",setup(I){const g=p(!1),d=p(!1),s=p({error:!1,msg:""}),e=x({first_name:null,last_name:null,email:null,mobile:null,suburb_postcode_region_id:null,contractor_car_licence:!1,contractor_equipment:!1,contractor_why_join:null,contractor_referral_type:null}),r=B({first_name:{required:i},last_name:{required:i},email:{required:i,email:L},mobile:{required:i},suburb_postcode_region_id:{required:i},contractor_why_join:{required:i},contractor_referral_type:{required:i}},e),k=()=>{g.value=!0,d.value=!1,w.post("/auth/contractor/applynow",e).then(()=>{d.value=!0}).catch(u=>{h(u)})},Q=()=>{s.value={error:!1,msg:""},e.email&&w.post("/user/checkemail/0",{email:e.email}).then(u=>{parseFloat(u.data.found[0].count)>0&&(s.value.error=!0,s.value.msg="That email address is already in use",e.email=null)}).catch(u=>{h(u)})};return(u,l)=>(_(),f(C,{view:"lHh Lpr lFf"},{default:n(()=>[o(M,null,{default:n(()=>[o(j,{class:"row justify-center items-center animated fadeIn",padding:""},{default:n(()=>[o(q,{class:"col-xs-12 col-sm-9 col-md-5 col-lg-4 text-center"},{default:n(()=>[o(b,null,{default:n(()=>[o(E)]),_:1}),d.value?(_(),f(b,{key:0,class:"text-left"},{default:n(()=>[y(" Thanks for your interest in joining The Laundry Lady."),P,y("Please check your email for the next steps. ")]),_:1})):V("",!0),d.value?V("",!0):(_(),f(b,{key:1,class:"text-left"},{default:n(()=>[S,T,o(m,{modelValue:e.first_name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.first_name=a),label:"First Name",error:t(r).first_name.$invalid},null,8,["modelValue","error"]),o(m,{modelValue:e.last_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.last_name=a),label:"Last Name",error:t(r).last_name.$invalid},null,8,["modelValue","error"]),o(m,{modelValue:e.email,"onUpdate:modelValue":l[2]||(l[2]=a=>e.email=a),label:"Email",error:t(r).email.$invalid||s.value.error,onBlur:l[3]||(l[3]=a=>Q()),"error-message":s.value.msg||"",hint:s.value.msg||""},null,8,["modelValue","error","error-message","hint"]),o(m,{modelValue:e.mobile,"onUpdate:modelValue":l[4]||(l[4]=a=>e.mobile=a),label:"Mobile Phone",error:t(r).mobile.$invalid,mask:"#### ### ###","unmasked-value":""},null,8,["modelValue","error"]),o(F,{modelValue:e.suburb_postcode_region_id,"onUpdate:modelValue":l[5]||(l[5]=a=>e.suburb_postcode_region_id=a),label:"Suburb",invalid:t(r).suburb_postcode_region_id.$invalid},null,8,["modelValue","invalid"]),A,o(v,{modelValue:e.contractor_car_licence,"onUpdate:modelValue":l[6]||(l[6]=a=>e.contractor_car_licence=a),label:"Reliable car and current drivers licence"},null,8,["modelValue"]),o(v,{modelValue:e.contractor_equipment,"onUpdate:modelValue":l[7]||(l[7]=a=>e.contractor_equipment=a),label:"Equipment including steam station iron, washing machine, dryer, or willing to purchase these?"},null,8,["modelValue"]),o(m,{modelValue:e.contractor_why_join,"onUpdate:modelValue":l[8]||(l[8]=a=>e.contractor_why_join=a),label:"Why do you want to join our team?",class:"q-mt-lg",error:t(r).contractor_why_join.$invalid,type:"textarea",rows:"3",outlined:""},null,8,["modelValue","error"]),o(U,{modelValue:e.contractor_referral_type,"onUpdate:modelValue":l[9]||(l[9]=a=>e.contractor_referral_type=a),label:"How did you find out about us?",options:["Instagram","Facebook","Google","Gumtree","Working Parents Connect","Seek","Melbourne Mums","Word of Mouth","Radio","Newspaper/Magazine","Event","Other"],error:t(r).contractor_referral_type.$invalid},null,8,["modelValue","error"]),o(N,{loading:g.value,onClick:l[10]||(l[10]=a=>k()),disabled:t(r).$invalid||!e.contractor_car_licence||!e.contractor_equipment,color:"primary",label:"Apply Now",class:"full-width q-mt-md"},null,8,["loading","disabled"])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}});export{ae as default};
