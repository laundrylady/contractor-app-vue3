import{A as Q,I as V,B as C,r as u,J as I,m as S,K as $,L as s,l as e,q as r,Q as q,M as p,N as f,O as d,P as B,R as P,S as R,U,a as L}from"./index.7da93179.js";import{Q as N}from"./QPage.e25f8b02.js";import{Q as D,a as K}from"./QLayout.bec178d3.js";import{u as j,r as v,e as A}from"./index.esm.0811bb15.js";import{u as F,a as g}from"./axios.07c7c7d9.js";import{_}from"./AppLogo.7e5dbff3.js";import{u as w}from"./debug.9f3fb657.js";import"./QResizeObserver.66f1c4a6.js";const M={class:"flex justify-center items-center text-primary"},E={class:"text-center"},G={class:"text-h6 text-center"},H={class:"text-right q-mt-md q-mb-md"},se=Q({__name:"SignIn",setup(J){const x=V(),a=C({username:void 0,password:void 0}),h=j({username:{required:v,email:A},password:{required:v}},a),i=u(!1),l=u(!0),m=u(!1),b=F(),y=()=>{window.location.href="/api/public/google/authenticate"},c=()=>{i.value=!0,a.username&&a.password&&g.post("/auth/signin",a).then(()=>{g.get("/auth/check").then(n=>{b.setUserData(n.data),L(),x.push({name:"appDashboard"})}).catch(n=>{w(n)})}).catch(n=>{w(n),i.value=!1,m.value=!0})};return(n,t)=>{const k=I("router-link");return S(),$(D,{view:"lHh Lpr lFf"},{default:s(()=>[e(K,null,{default:s(()=>[e(N,{class:"row justify-center items-center animated fadeIn",padding:""},{default:s(()=>[r("div",M,[r("div",null,[r("div",E,[e(_)]),r("div",G,[r("a",{class:"link",onClick:t[0]||(t[0]=o=>y())},"Sign in with Google")])])]),e(q,{class:"col-xs-12 col-sm-6 col-md-3 text-center hidden"},{default:s(()=>[e(p,{class:"text-center"},{default:s(()=>[e(_)]),_:1}),e(p,null,{default:s(()=>[e(f,{modelValue:a.username,"onUpdate:modelValue":t[1]||(t[1]=o=>a.username=o),label:"Registered Email","bottom-slots":"",autofocus:""},{prepend:s(()=>[e(d,{name:"account_circle"})]),_:1},8,["modelValue"]),e(f,{modelValue:a.password,"onUpdate:modelValue":t[3]||(t[3]=o=>a.password=o),type:l.value?"password":"text",label:"Password",onKeydown:t[4]||(t[4]=B(o=>c(),["enter"])),error:m.value,"error-message":"Invalid credentials"},{prepend:s(()=>[e(d,{name:"lock"})]),append:s(()=>[e(d,{name:l.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=o=>l.value=!l.value)},null,8,["name"])]),_:1},8,["modelValue","type","error"]),r("div",H,[e(k,{to:{name:"passwordResetRequest"},class:"link"},{default:s(()=>[P("Forgot your password?")]),_:1})]),e(R,{loading:i.value,onClick:t[5]||(t[5]=o=>c()),disabled:U(h).$invalid,color:"primary",label:"Sign In",class:"full-width q-mt-md"},null,8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{se as default};
