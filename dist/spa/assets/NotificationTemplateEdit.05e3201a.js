import{A as _,I as C,ad as h,r as y,B,o as T,m as d,K as j,L as s,l as a,O as N,n as $,q as b,ai as x,M as E,N as u,U as i,t as S,ae as k,S as c,Q as q,y as U}from"./index.7da93179.js";import{Q as n,a as w}from"./QBreadcrumbs.96094532.js";import{Q as D}from"./QEditor.029e164b.js";import{Q as I}from"./QPage.e25f8b02.js";import{u as M,r as m}from"./index.esm.0811bb15.js";import{a as p}from"./axios.07c7c7d9.js";import{u as f}from"./debug.9f3fb657.js";import{d as z}from"./help.4068c5a1.js";import"./QBtnGroup.17d5a1bd.js";import"./QMenu.00781621.js";import"./QItem.642560fa.js";import"./use-fullscreen.62410448.js";const A={key:0},O={class:"text-h4 q-mb-md"},R=b("div",{class:"label"},"Content",-1),oe=_({__name:"NotificationTemplateEdit",setup(H){const v=C(),Q=h(),g=y(!1),e=B({id:null,name:null,subject:null,content:""}),r=M({name:{required:m},subject:{required:m},content:{required:m}},e),V=()=>{p.put(`/notificationtemplate/${e.id}`,e).then(()=>{z("positive","Template saved"),v.push({name:"notificationTemplates"})}).catch(o=>{f(o)})};return T(async()=>{try{const o=await p.get(`/notificationtemplate/${Q.params.id}`);Object.assign(e,o.data)}catch(o){f(o)}}),(o,t)=>(d(),j(I,{padding:""},{default:s(()=>[a(w,{class:"q-mb-md"},{separator:s(()=>[a(N,{size:"1.5em",name:"chevron_right"})]),default:s(()=>[a(n,{label:"Home",icon:"home",to:{name:"appDashboard"}}),a(n,{label:"Settings",to:{name:"settings"}}),a(n,{label:"Email Templates",to:{name:"notificationTemplates"}}),a(n,{label:"New Template"})]),_:1}),e&&e.id?(d(),$("div",A,[b("div",O,x(e.name),1),a(q,null,{default:s(()=>[a(E,null,{default:s(()=>[a(u,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.name=l),label:"Template name",error:i(r).name.$invalid},null,8,["modelValue","error"]),a(u,{modelValue:e.subject,"onUpdate:modelValue":t[1]||(t[1]=l=>e.subject=l),label:"Subject for the Email",error:i(r).subject.$invalid},null,8,["modelValue","error"]),R,a(D,{modelValue:e.content,"onUpdate:modelValue":t[2]||(t[2]=l=>e.content=l),class:S({"text-negative":!e.content})},null,8,["modelValue","class"])]),_:1}),a(k,{align:"right"},{default:s(()=>[a(c,{to:{name:"notificationTemplates"},label:"Cancel",color:"secondary",flat:""}),a(c,{onClick:t[3]||(t[3]=l=>V()),label:"Save",disable:i(r).$invalid||g.value,color:"primary"},null,8,["disable"])]),_:1})]),_:1})])):U("",!0)]),_:1}))}});export{oe as default};
